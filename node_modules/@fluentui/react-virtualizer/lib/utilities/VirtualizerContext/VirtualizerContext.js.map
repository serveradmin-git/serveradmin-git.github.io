{"version":3,"sources":["../src/utilities/VirtualizerContext/VirtualizerContext.ts"],"sourcesContent":["import * as React from 'react';\nimport type { DynamicVirtualizerContextProps, VirtualizerContextProps } from './types';\nimport { useMemo, useState, useRef } from 'react';\n\nconst VirtualizerContext = React.createContext<VirtualizerContextProps | undefined>(\n  undefined,\n) as React.Context<VirtualizerContextProps>;\n\nexport const VirtualizerContextProvider = VirtualizerContext.Provider;\n\nexport const useVirtualizerContext_unstable = () => {\n  return React.useContext(VirtualizerContext);\n};\n\nexport const useVirtualizerContextState_unstable = (\n  passedContext?: VirtualizerContextProps,\n): DynamicVirtualizerContextProps => {\n  const virtualizerContext = useVirtualizerContext_unstable();\n  const [_contextIndex, _setContextIndex] = useState<number>(-1);\n  const childProgressiveSizes = useRef<number[]>([]);\n\n  /* We respect any wrapped providers while also ensuring defaults or passed through\n   * Order of usage -> Passed Prop -> Provider Context -> Internal State default\n   */\n  const context = useMemo(\n    () => ({\n      contextIndex: passedContext?.contextIndex ?? virtualizerContext?.contextIndex ?? _contextIndex,\n      setContextIndex: passedContext?.setContextIndex ?? virtualizerContext?.setContextIndex ?? _setContextIndex,\n      childProgressiveSizes,\n    }),\n    [_contextIndex, passedContext, virtualizerContext],\n  );\n\n  return context;\n};\n"],"names":["React","useMemo","useState","useRef","VirtualizerContext","createContext","undefined","VirtualizerContextProvider","Provider","useVirtualizerContext_unstable","useContext","useVirtualizerContextState_unstable","passedContext","virtualizerContext","_contextIndex","_setContextIndex","childProgressiveSizes","context","contextIndex","setContextIndex"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA,YAAYA,WAAW,QAAQ;AAE/B,SAASC,OAAO,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,QAAQ;AAElD,MAAMC,qBAAqBJ,MAAMK,aAAa,CAC5CC;AAGF,OAAO,MAAMC,6BAA6BH,mBAAmBI,QAAQ,CAAC;AAEtE,OAAO,MAAMC,iCAAiC;IAC5C,OAAOT,MAAMU,UAAU,CAACN;AAC1B,EAAE;AAEF,OAAO,MAAMO,sCAAsC,CACjDC;IAEA,MAAMC,qBAAqBJ;IAC3B,MAAM,CAACK,eAAeC,iBAAiB,GAAGb,SAAiB,CAAC;IAC5D,MAAMc,wBAAwBb,OAAiB,EAAE;IAEjD;;GAEC,GACD,MAAMc,UAAUhB,QACd;YACgBW,6BAAAA,MACGA,gCAAAA;eAFZ;YACLM,cAAcN,CAAAA,OAAAA,CAAAA,8BAAAA,0BAAAA,oCAAAA,cAAeM,YAAY,cAA3BN,yCAAAA,8BAA+BC,+BAAAA,yCAAAA,mBAAoBK,YAAY,cAA/DN,kBAAAA,OAAmEE;YACjFK,iBAAiBP,CAAAA,QAAAA,CAAAA,iCAAAA,0BAAAA,oCAAAA,cAAeO,eAAe,cAA9BP,4CAAAA,iCAAkCC,+BAAAA,yCAAAA,mBAAoBM,eAAe,cAArEP,mBAAAA,QAAyEG;YAC1FC;QACF;IAAA,GACA;QAACF;QAAeF;QAAeC;KAAmB;IAGpD,OAAOI;AACT,EAAE"}